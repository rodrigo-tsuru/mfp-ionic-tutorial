<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">
    <link rel="stylesheet" type="text/css" href="stylesheets/prism.css">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <title>Mfp-ionic-tutorial by rodrigo-tsuru</title>
  </head>

  <body>
    <header>
      <div class="inner">
        <h1>Tutorial</h1>
        <h2>MobileFirst Foundation com Ionic Framework</h2>
        <a href="https://github.com/rodrigo-tsuru/mfp-ionic-tutorial" class="button"><small>View project on</small> GitHub</a>
      </div>
    </header>

    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main-content">
          <h3>
<a id="welcome-to-github-pages" class="anchor" href="#welcome-to-github-pages" aria-hidden="true"><span class="octicon octicon-link"></span></a>Introdução</h3>

<p>Neste tutorial você aprenderá a construir um aplicativo híbrido com look-and-feel nativo utilizando Ionic
Framework. 
Você construirá um aplicativo de diário de acontecimentos.</p>

<h3>
<a id="designer-templates" class="anchor" href="#designer-templates" aria-hidden="true"><span class="octicon octicon-link"></span></a>O que você vai aprender</h3>

<p><ul><li>Como criar e empacotar um projeto Ionic usando o CLI (Command Line Interface).</li>

<li>Como integrar o Ionic com o MobileFirst Foundation v7 (antigo Worklight Foundation)</li>

<li>Como chamar adapters</li>
</ul>
</p>

<h3>
<a id="creating-pages-manually" class="anchor" href="#creating-pages-manually" aria-hidden="true"><span class="octicon octicon-link"></span></a>Pré-requisitos</h3>

<p><ul><li>É necessário acesso à Internet</li>

<li>Conhecimento prático de HTML5 e JavaScript é desejável</li>

<li>Um dispositivo móvel (celular, tablet,etc) <b>não</b> é necessário para este tutorial. No entanto, se você quer rodar o aplicativo num dispositivo iOS ou Android ou emulador, você precisará dos respectivos SDKs instalados.</li>
</ul>
</p>


<h3>
<a id="support-or-contact" class="anchor" href="#support-or-contact" aria-hidden="true"><span class="octicon octicon-link"></span></a>Problemas e bugs</h3>

<p>Por favor reporte um bug <a href="https://github.com/rodrigo-tsuru/mfp-ionic-tutorial/issues">aqui</a>. Sugestões são bem-vindas também!</p>

<h3>

<a id="creating-pages-manually" class="anchor" href="#creating-pages-manually" aria-hidden="true"><span class="octicon octicon-link"></span></a>Procedimentos</h3>
<p>
<ol type="1">
  <li>Crie o projeto Ionic sem Apache Cordova. ex: MemoIO<br />
  <pre>ionic start --no-cordova MemoIO blank</pre></li>
  <li>Verifique a estrutura de pastas abaixo:
<pre>
MemoIO
├── bower.json
├── gulpfile.js
├── ionic.project
├── package.json
├── scss
│   └── ionic.app.scss
└── www
    ├── css
    │   └── style.css
    ├── img
    │   └── ionic.png
    ├── index.html
    ├── js
    │   └── app.js
    └── lib
        └── ionic
            ├── css
            │   ├── ionic.css
            │   └── ionic.min.css
            ├── fonts
            │   ├── ionicons.eot
            │   ├── ionicons.svg
            │   ├── ionicons.ttf
            │   └── ionicons.woff
            ├── js
            │   ├── angular
            │   │   ├── angular-animate.js
            │   │   ├── angular-animate.min.js
            │   │   ├── angular.js
            │   │   ├── angular.min.js
            │   │   ├── angular-resource.js
            │   │   ├── angular-resource.min.js
            │   │   ├── angular-sanitize.js
            │   │   └── angular-sanitize.min.js
            │   ├── angular-ui
            │   │   ├── angular-ui-router.js
            │   │   └── angular-ui-router.min.js
            │   ├── ionic-angular.js
            │   ├── ionic-angular.min.js
            │   ├── ionic.bundle.js
            │   ├── ionic.bundle.min.js
            │   ├── ionic.js
            │   └── ionic.min.js
            ├── scss
            │   ├── _action-sheet.scss
            │   ├── _animations.scss
            │   ├── _backdrop.scss
            │   ├── _badge.scss
            │   ├── _bar.scss
            │   ├── _button-bar.scss
            │   ├── _button.scss
            │   ├── _checkbox.scss
            │   ├── _form.scss
            │   ├── _grid.scss
            │   ├── ionicons
            │   │   ├── _ionicons-font.scss
            │   │   ├── _ionicons-icons.scss
            │   │   ├── ionicons.scss
            │   │   └── _ionicons-variables.scss
            │   ├── ionic.scss
            │   ├── _items.scss
            │   ├── _list.scss
            │   ├── _loading.scss
            │   ├── _menu.scss
            │   ├── _mixins.scss
            │   ├── _modal.scss
            │   ├── _platform.scss
            │   ├── _popover.scss
            │   ├── _popup.scss
            │   ├── _progress.scss
            │   ├── _radio.scss
            │   ├── _range.scss
            │   ├── _refresher.scss
            │   ├── _reset.scss
            │   ├── _scaffolding.scss
            │   ├── _select.scss
            │   ├── _slide-box.scss
            │   ├── _spinner.scss
            │   ├── _tabs.scss
            │   ├── _toggle.scss
            │   ├── _transitions.scss
            │   ├── _type.scss
            │   ├── _util.scss
            │   └── _variables.scss
            └── version.json

</pre></li>
  <li>Crie o projeto MobileFirst. ex: MemoMFP
    <ul>
    <li>Via MobileFirst Studio</li>
    <li>Via MobileFirst CLI<br /><pre>mfp create MemoMFP</pre></li></ul>
  </li>
  <li>Verifique a estrutura de pastas criadas:
<pre>
MemoMFP
├── adapters
├── apps
├── bin
│   └── classes
├── components
├── externalServerLibraries
│   ├── com.ibm.worklight.oauth.tai_1.0.0.jar
│   ├── mfp-xs-loader.jar
│   └── OAuthTai-1.0.mf
├── server
│   ├── conf
│   │   ├── authenticationConfig.xml
│   │   ├── login.html
│   │   ├── mfp-default.keystore
│   │   ├── SMSConfig.xml
│   │   └── worklight.properties
│   ├── java
│   └── lib
└── services
</pre></li>

<li>Crie um aplicativo híbrido. ex: MemoApp
    <ul>
    <li>Via MobileFirst Studio</li>
    <li>Via MobileFirst CLI<br /><pre>cd MemoMFP; mfp add hybrid MemoApp</pre></li></ul>
  </li>
  <li>Verifique a estrutura de pastas criadas:
<pre>
MemoMFP
├── adapters
├── apps
│   └── MemoApp
│       ├── application-descriptor.xml
│       ├── build-settings.xml
│       ├── certificates
│       │   └── Readme.txt
│       ├── common
│       │   ├── css
│       │   │   └── main.css
│       │   ├── images
│       │   │   ├── icon.png
│       │   │   └── thumbnail.png
│       │   ├── index.html
│       │   └── js
│       │       ├── initOptions.js
│       │       ├── main.js
│       │       └── messages.js
│       └── legal
│           └── license.txt
├── bin
│   └── classes
├── components
├── externalServerLibraries
│   ├── com.ibm.worklight.oauth.tai_1.0.0.jar
│   ├── mfp-xs-loader.jar
│   └── OAuthTai-1.0.mf
├── server
│   ├── conf
│   │   ├── authenticationConfig.xml
│   │   ├── login.html
│   │   ├── mfp-default.keystore
│   │   ├── SMSConfig.xml
│   │   └── worklight.properties
│   ├── java
│   └── lib
└── services

</pre></li>
<li>Faça o backup da pasta MemoMFP/apps/MemoApp/common:
<pre>
cp -Rf MemoMFP/apps/MemoApp/common MemoMFP/apps/MemoApp/common-bkp 
</pre></li>
<li>Copie a pasta MemoIO/www para MemoMFP/apps/MemoApp/common:
<pre>
cp -Rf MemoIO/www MemoMFP/apps/MemoApp/common 
</pre></li>
<li>Altere o arquivo MemoMFP/apps/MemoApp/common/index.html:
<ul>
    <li>Remova o trecho &lt;script src="cordova.js"&gt;&lt;/script&gt;, pois a API Cordova é inserida automaticamente pelo MobileFirst durante processo de build</li>
    <li>Inclua os javascripts do Worklight (wlInitOptions.js, main.js e messages.js)</li>
</ul></li>
<li>Verifique as alterações do arquivo MemoMFP/apps/MemoApp/common/index.html:
<pre><code  class="language-markup">
&lt;!DOCTYPE html>
&lt;html>
  &lt;head>
    &lt;meta charset="utf-8">
    &lt;meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no, width=device-width">
    &lt;title>&lt;/title>
    &lt;link href="lib/ionic/css/ionic.css" rel="stylesheet">
    &lt;link href="css/style.css" rel="stylesheet">
    &lt;!-- IF using Sass (run gulp sass first), then uncomment below and remove the CSS includes above
    &lt;link href="css/ionic.app.css" rel="stylesheet">
    -->
 
    &lt;!-- ionic/angularjs js -->
    &lt;script src="lib/ionic/js/ionic.bundle.js">&lt;/script>
 
    &lt;!-- cordova script (this will be a 404 during development) -->
    &lt;!-- your app's js -->
    &lt;script src="js/app.js">&lt;/script>

  &lt;/head>
  &lt;body ng-app="starter">
 
    &lt;ion-pane>
      &lt;ion-header-bar class="bar-stable">
        &lt;h1 class="title">Ionic Blank Starter&lt;/h1>
      &lt;/ion-header-bar>
      &lt;ion-content>
      &lt;/ion-content>
    &lt;/ion-pane>
    &lt;script src="js/wlInitOptions.js">&lt;/script>
    &lt;script src="js/main.js">&lt;/script>
    &lt;script src="js/messages.js">&lt;/script>
  &lt;/body>
&lt;/html>
</code></pre></li>
<li>Há um <a href="http://stackoverflow.com/questions/29227204/declaration-of-doctype-html-does-not-work-with-ionics-ion-nav-view-in-ibm-mo/29258958#29258958">conflito dos estilos do MobileFirst com o Ionic</a>. Para resolvê-lo altere o MemoMFP/apps/MemoApp/common/css/style.css:
<pre>
<code class="language-css">
body {
    position: absolute;
}
</code> 
</pre></li>
<li>Remova a inicialização do Cordova feito pelo Ionic, uma vez que o Worklight será o responsável pelo mesmo. Edite o arquivo MemoMFP/apps/MemoApp/common/js/app.js:
<pre>
<code class="language-javascript">
// Ionic Starter App
 
// angular.module is a global place for creating, registering and retrieving Angular modules
// 'starter' is the name of this angular module example (also set in a <body> attribute in index.html)
// the 2nd parameter is an array of 'requires'
angular.module('starter', ['ionic'])
 
//.run(function($ionicPlatform) {
//  $ionicPlatform.ready(function() {
//    // Hide the accessory bar by default (remove this to show the accessory bar above the keyboard
//    // for form inputs)
//      /*
//    if(window.cordova && window.cordova.plugins.Keyboard) {
//      cordova.plugins.Keyboard.hideKeyboardAccessoryBar(true);
//    }
//    */
//    if(window.StatusBar) {
//      StatusBar.styleDefault();
//    }
//  });
//})

</code> 
</pre></li>
<li>Teste o build do MobileFirst:
<pre>mfp bd</pre>
</ol>
</p>
        </section>

        <aside id="sidebar">
          <a href="https://github.com/rodrigo-tsuru/mfp-ionic-tutorial/zipball/master" class="button">
            <small>Download</small>
            .zip file
          </a>
          <a href="https://github.com/rodrigo-tsuru/mfp-ionic-tutorial/tarball/master" class="button">
            <small>Download</small>
            .tar.gz file
          </a>

          <p class="repo-owner"><a href="https://github.com/rodrigo-tsuru/mfp-ionic-tutorial"></a> is maintained by <a href="https://github.com/rodrigo-tsuru">rodrigo-tsuru</a>.</p>

          <p>This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the Architect theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.</p>
        </aside>
      </div>
    </div>
  <script src="javascripts/prism.js"></script>
  </body>
</html>
